1 МОДЕЛЮВАННЯ ПРОГРАМНОЇ СИСТЕМИ
1.1 Мета роботи

Метою лабораторної роботи було розробити програмне забезпечення для смарт-девайсу, який інтегрується в екосистему програмного забезпечення для управління та моніторингу безпеки на гірськолижному курорті. Має бути описано прийняті інженерні рішення, діаграми та представити загальну структуру системи та систему взаємодії з серверною частиною.

1.2 Моделювання програмної системи

Для візуальної демонстрації функціональності програмного забезпечення було створено UML діаграму прецедентів (див А.1). Актором системи є користувач, який має можливість проводити конфігураційні налаштування параметрів комунікації з серверної частиною, параметрів Wi-Fi, запускати надсилання моніторингових даних на сервер.
Цикл роботи наступний (візуалізацію наведено в додатку А.2):
–	Після запуску програмного забеспечення проходить ініціалізація та запитування користувача про подальші дії.
–	Користувач може обрати налаштування конфігурації для зміни паролю Wi-Fi, SSID та інших системних даних, може змінити ідентифікатор регіону моніторингу.
–	Після налаштування, користувач може запустити моніторинговий процес з надсиланням інформації з датчиків на сервер.
 
2 ПРОГРАМНА РЕАЛІЗАЦІЯ
2.1 Архітектура програмного забезпечення

	Розроблена система моніторингу погоди використовує мікроконтролер ESP32 для вимірювання умов навколишнього середовища за допомогою датчика DHT22, який надає інформацію про температуру та вологість. За не наявності реального мікроконтролера, було використано симулятор Wokwi. Симулятор не підтримує зчитування даних про тиск, отже система імітує атмосферний тиск за допомогою функції нормального розподілу для генерації адекватних значень. Система розраховує індекси небезпеки для ожеледиці, вітру та снігу на основі показань датчиків і даних тиску, класифікуючи рівень небезпеки за категоріями «Небезпечно», «Посередньо», «Небезпечно», «Дуже небезпечно» та «Надзвичайно небезпечно». Мікроконтролер підключається до Wi-Fi, щоб надсилати зібрані дані та аналіз небезпек на серверну частину через запити HTTP POST, включаючи метадані та маркер авторизації для безпечного зв’язку. Система постійно відстежує та повідомляє про погодні умови, забезпечуючи своєчасне сповіщення про виняткові погодні умови.

2.2 Програмна розробка системи

	Структура проекту включає в себе основний файл скрипту, "main.py", який є ядром системи моніторингу погоди. Використовуються додаткові модулі, такі як "urequests.py" та "ujson", щоб спростити HTTP-запити. Основний скрипт оркеструє функціональні можливості системи, включаючи збір даних з датчиків, обчислення індексу небезпеки та передачу даних на сервер бекенду.
 
2.2.1 Модуль NetworkService

Модуль має метод connect_to_wifi(ssid, password), який намагається встановити з'єднання з вказаною мережею Wi-Fi за допомогою вказаного SSID та пароля. Він використовує можливості Wi-Fi ESP32 для ініціювання спроб підключення, постійно повторюючи їх до успішного завершення. Після підключення він виводить повідомлення, що підтверджує успішне з'єднання з мережею.

2.2.2 Модуль HazardService

Модуль має метод read_sensors() який зчитує дані про температуру та вологість з датчика DHT22 та генерує змодельоване значення атмосферного тиску. Система використовує бібліотеку "dht" для зчитування даних про температуру та вологість з датчика. Додатково генерує змодельоване значення атмосферного тиску за допомогою спеціальної функції на основі нормального розподілу. Метод повертає отримані дані з датчика та змодельоване значення тиску.

2.2.3 Модуль MathService

Модуль використовує метод normal_distribution для генерування значення атмосферного тиску з нормальним розподілом, забезпечуючи реалістичні дані про тиск для розрахунку індексу небезпеки за допомогою алгоритму перетворення Бокса-Мюллера для генерації випадкових значень з нормальним розподілом. Приймає параметри для середнього значення та стандартного відхилення розподілу, щоб налаштувати змодельовані значення тиску. Метод повертає згенероване значення атмосферного тиску.
 
2.2.4 Модуль ConfigurationService

Модуль призначений для централізації та керування різними налаштуваннями конфігурації системи моніторингу погоди. Він надає структурований спосіб оновлення та доступу до критично важливих параметрів конфігурації, пов’язаних із мережею, внутрішнім зв’язком і налаштуваннями моделювання. Ця служба гарантує, що зміни конфігурації легко керовані та узгоджені в системі.

2.3 Висновки

В результаті даної лабораторії було розроблено рішення системи моніторингу погоди для точного вимірювання умов навколишнього середовища за допомогою мікроконтролера ESP32 і датчика DHT22. Основні функціональні можливості системи розширено структурованою службою ConfigurationService, яка централізує та керує критично важливими налаштуваннями для мережі, внутрішнього зв’язку та параметрів моделювання. Завдяки безперебійному підключенню Wi-Fi, реалістичному моделюванню тиску та обчисленню індексу небезпеки система надійно відстежує погодні умови та повідомляє про них. Це забезпечує своєчасне сповіщення та практичну інформацію, що зрештою сприяє підвищенню безпеки та готовності за різних погодних сценаріїв.
 
ПЕРЕЛІК ДЖЕРЕЛ
1.  Проект у симуляторі Wokwi https://wokwi.com/projects/399877099639822337
2.  Демо відео https://youtu.be/eIr0Yta9Ea8
